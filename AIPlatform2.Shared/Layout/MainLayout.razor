@using global::DTOs
@inherits LayoutComponentBase

                
<FluentDesignTheme Mode="DesignThemeModes.Dark" OfficeColor="OfficeColor.PowerBI"/>

<script src="_content/Microsoft.FluentUI.AspNetCore.Components/js/loading-theme.js" type="text/javascript"></script>
<loading-theme storage-name="theme"></loading-theme>


<FluentLayout>

    <FluentHeader>
        AIPlatform2
        <FluentSpacer />
     
        <FluentButton  IconEnd="@(new Icons.Regular.Size24.Settings())" Title="Quick Settings" OnClick="@onclickingsettings">Settings</FluentButton>

    </FluentHeader>
    <FluentStack Class="main" Orientation="Orientation.Horizontal" Width="100%">
        <NavMenu />
        <FluentBodyContent Class="body-content">

            <div class="content">
                @Body
            </div>
        </FluentBodyContent>
    </FluentStack>
</FluentLayout>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

<FluentToastProvider />
<FluentDialogProvider  />
<FluentTooltipProvider />
<FluentMessageBarProvider />
<FluentMenuProvider />





                  
@code
{




    private IDialogReference? _dialog;
    private readonly SettingsDTO Settings = new()
    {
        
    };

    [Inject]
    private IDialogService DialogService { get; set; }

    private async Task onclickingsettings()
    {
        await ShowSimplePanelAsync(Settings);
    }

    private async Task ShowSimplePanelAsync(SettingsDTO Settings)
    {
        DialogParameters<SettingsDTO> parameters = new()
        {
            Content = Settings,
            Title = $"Quick Settings",
            TrapFocus=true,

            Alignment = HorizontalAlignment.Right,
            Modal = true,
           PrimaryAction=null,
            SecondaryAction = null,
            ShowDismiss = false,
         
            
        };
        // Add any required parameters to dialogParameters here

        _dialog = await DialogService.ShowDialogAsync<SettingComponent>(Settings, parameters);
        var result = await _dialog.Result;
        if (!result.Cancelled)
        {
          
        }
    }
    
   

}